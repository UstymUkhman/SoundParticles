!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AudioReactive",[],t):"object"==typeof exports?exports.AudioReactive=t():e.AudioReactive=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){var o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,i;e=e||{},t=void 0!==e.parent?e.parent:document.body,n=void 0!==e.id?e.id:"oldie",i=o.getWebGLErrorMessage(),i.id=n,t.appendChild(i)}};e.exports=o},function(e,t){var n=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";o=e}var o=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),t(++o%i.children.length)},!1);var r=(performance||Date).now(),a=r,l=0,s=e(new n.Panel("FPS","#0ff","#002")),u=e(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=e(new n.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(u.update(e-r,200),e>a+1e3&&(s.update(1e3*l/(e-a),100),a=e,l=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:i,setMode:t}};n.Panel=function(e,t,n){var o=1/0,i=0,r=Math.round,a=r(window.devicePixelRatio||1),l=80*a,s=48*a,u=3*a,d=2*a,c=3*a,f=15*a,h=74*a,p=30*a,m=document.createElement("canvas");m.width=l,m.height=s,m.style.cssText="width:80px;height:48px";var b=m.getContext("2d");return b.font="bold "+9*a+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=n,b.fillRect(0,0,l,s),b.fillStyle=t,b.fillText(e,u,d),b.fillRect(c,f,h,p),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(c,f,h,p),{dom:m,update:function(s,v){o=Math.min(o,s),i=Math.max(i,s),b.fillStyle=n,b.globalAlpha=1,b.fillRect(0,0,l,f),b.fillStyle=t,b.fillText(r(s)+" "+e+" ("+r(o)+"-"+r(i)+")",u,d),b.drawImage(m,c+a,f,h-a,p,c,f,h-a,p),b.fillRect(c+h-a,f,a,p),b.fillStyle=n,b.globalAlpha=.9,b.fillRect(c+h-a,f,a,r((1-s/v)*p))}}},"object"==typeof e&&(e.exports=n)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=o(a),s=n(1),u=o(s),d=function(){function e(){i(this,e),this._name="AudioReactive",this._audio="John Newman - Love Me Again"}return r(e,[{key:"init",value:function(e){return!!l.default.webgl&&(this._element=e,this._isPlaying=!1,this._destroyed=!1,this._currentScene=0,this._params={wireframe:!1,bgColor:"rgb(0,0,0)",exposure:0,cameraBaseRotation:0,cameraReactiveRotation:0,blobReactiveness:0,tunnelBaseSpeed:0,tunnelReactiveSpeed:0,tunnelTextureRotateBase:0,tunnelTextureRotateReactive:0,tunnelTextureMix:0,bloomStrength:0,bloomReactiveness:0,bloomThreshold:0,bloomRadius:0,blobColor:0,blobHighlight:0,blobReflectiveness:0,texture1:"",texture1b:"",texture2:"",texture2b:"",interactive:!1,bassCutOff:.3,vocalsCutOff:.3},this.resize(),!0)}},{key:"startExperience",value:function(){this._experienceStarted=!0,this._initAudio()}},{key:"_initAudio",value:function(){var e=this;this._soundSource={},this._soundSource=document.createElement("audio"),this._soundSource.autoplay=!1,this._soundSource.src="assets/"+this._audio+".mp3",this._soundSource.addEventListener("ended",this._onAudioTrackEnded.bind(this)),this._soundSource.addEventListener("canplay",function(){e._soundSource.loaded=!0,e._soundSource.volume=1,e._soundSource.play()})}},{key:"_onAudioTrackEnded",value:function(){}},{key:"showStats",value:function(){this.stats||(this.stats=new u.default),document.body.appendChild(this.stats.dom)}},{key:"hideStats",value:function(){this.stats.dom.parentNode.removeChild(this.stats.dom)}},{key:"_render",value:function(){this._destroyed}},{key:"resize",value:function(e,t){this._viewportWidth=e||this._element.width,this._viewportHeight=t||this._element.height}},{key:"destroy",value:function(){this._destroyed=!0}}]),e}();t.default=d,e.exports=t.default}])});